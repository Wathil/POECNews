<ion-header>
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <img class="logo" src="./assets/img/logo-POECNews.png">
  </ion-list>

  <div *ngIf="isLoggedIn; else loggedOut">
    Vous êtes connecté en tant que {{loginName}}.
  </div>

  <ng-template #loggedOut>
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>

      <ion-item class="form-group">
        <ion-label for="email">email</ion-label>
        <ion-input type="text" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" required></ion-input>
        <div *ngIf="f.submitted && email.invalid">
          <div *ngIf="email.errors.required">email is required</div>
        </div>
      </ion-item>

      <ion-item class="form-group">
        <ion-label for="password">Password</ion-label>
        <ion-input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel"></ion-input>
        <div *ngIf="f.submitted && password.invalid">
          <div *ngIf="password.errors.required">Password is required</div>
          <div *ngIf="password.errors.minlength">Password must be at least 6 characters</div>
        </div>
      </ion-item>

      <button mat-raised-button color="primary" type="submit">CONNEXION</button>
      <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger">
        Login failed: {{errorMessage}}
      </div>
    </form>

    <a routerLink="/rec-mdp">Mot de passe oublié</a>
    <div class="divIns">
      <button class="buttonIns" mat-raised-button [routerLink]="['/inscription-utilisateur/']">S'INSCRIRE</button>
    </div>

  </ng-template>

</ion-content>